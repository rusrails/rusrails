# Вычисления

Этот раздел использует count для примера из [преамбулы](/active-record-query-interface), но описанные опции применяются ко всем подразделам.

Все методы вычисления работают прямо на модели:

```ruby
Client.count
# SELECT count(*) AS count_all FROM clients
```

Или на relation:

```ruby
Client.where(first_name: 'Ryan').count
# SELECT count(*) AS count_all FROM clients WHERE (first_name = 'Ryan')
```

Можете также использовать различные методы поиска на relation для выполнения сложных вычислений:

```ruby
Client.includes("orders").where(first_name: 'Ryan', orders: {status: 'received'}).count
```

Что выполнит:

```sql
SELECT count(DISTINCT clients.id) AS count_all FROM clients
  LEFT OUTER JOIN orders ON orders.client_id = client.id WHERE
  (clients.first_name = 'Ryan' AND orders.status = 'received')
```

### Количество

Если хотите увидеть, сколько записей есть в таблице модели, можете вызвать `Client.count`, и он возвратит число. Если хотите быть более определенным и найти всех клиентов с присутствующим в базе данных возрастом, используйте `Client.count(:age)`.

Про опции смотрите выше "Вычисления".

### Среднее

Если хотите увидеть среднее значение опредененного показателя в одной из ваших таблиц, можно вызвать метод `average` для класса, относящегося к таблице. Вызов этого метода выглядит так:

```ruby
Client.average("orders_count")
```

Это возвратит число (возможно, с плавающей запятой, такое как 3.14159265), представляющее среднее значение поля.
Про опции смотрите выше "Вычисления".

### Минимум

Если хотите найти минимальное значение поля в таблице, можете вызвать метод `minimum` для класса, относящегося к таблице. Вызов этого метода выглядит так:

```ruby
Client.minimum("age")
```

Про опции смотрите выше "Вычисления".

### Максимум

Если хотите найти максимальное значение поля в таблице, можете вызвать метод `maximum` для класса, относящегося к таблице. Вызов этого метода выглядит так:

```ruby
Client.maximum("age")
```

Про опции смотрите выше "Вычисления".

### Сумма

Если хотите найти сумму полей для всех записей в таблице, можете вызвать метод `sum` для класса, относящегося к таблице. Вызов этого метода выглядит так:

```ruby
Client.sum("orders_count")
```

Про опции смотрите выше "Вычисления".
